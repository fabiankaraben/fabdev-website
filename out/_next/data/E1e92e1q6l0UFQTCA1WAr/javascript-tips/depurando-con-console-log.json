{"pageProps":{"post":{"title":"Depurando con console.log","date":"2021-12-17T05:35:07.322Z","slug":"javascript-tips/depurando-con-console-log","author":{"name":"Fabián Karaben","picture":"/assets/authors/fabian.png"},"content":"<p>Hoy en día JavaScript ya no es solo un lenguaje de programación para hacer cositas en el navegador web, encontramos a JavaScript en desarrollo de backend (API), herramientas de consola de comandos, funciones en la nube (Cloud functions), y en muchos otros lugares.</p>\n<p>Si programaste alguna vez en JavaScript seguramente ya conocerás la función <code>console.log</code> pero posiblemente no estés aprovechando todo su potencial, e incluso puede ser que estés desaprovechando otras interesantes funciones que veremos aquí, como <code>console.table</code>, <code>console.time</code> y <code>console.trace</code>.</p>\n<h2>Analizando <code>console.log</code></h2>\n<p>Lo primero que debes saber es cómo depurar tu código JavaScript como un profesional, y la manera de hacer esto es utilizando la función <code>console.log</code>. Sin embargo, existen buenas maneras de utilizar <code>console.log</code> y malas maneras de utilizar <code>console.log</code>.</p>\n<p>Imaginemos que tenemos tres objetos diferentes, cada uno asignado a su propia variable, o en este caso, a su propia constante:</p>\n<pre><code class=\"language-javascript\">const foo    = { name: 'juan',   age: 30, nervous: false };\nconst bar    = { name: 'pedro',  age: 40, nervous: false };\nconst baz    = { name: 'fabian', age: 50, nervous: true };\n</code></pre>\n<p>La manera más obvia de registrar esto es con una llamada a <code>console.log</code> para cada objeto:</p>\n<pre><code class=\"language-javascript\">// Mal código 💩\n\nconsole.log(foo);\nconsole.log(bar);\nconsole.log(baz);\n</code></pre>\n<p>Sin embargo, el problema principal es que de esta manera no podemos conocer el nombre de la variable al analizar los datos impresos en la consola del navegador web (o la salida de REPL o la consola de comandos, si estamos trabajando con Node.js).</p>\n<p><img src=\"/assets/javascript-tips/console-log/1BmgW50Kx.jpeg\" alt=\"console-log-bad.jpg\"></p>\n<p>Existe un truco que podemos utilizar aquí, donde agregamos las variables a un objeto. Esto no solo reduce la cantidad de líneas del código, sino que también nos dice exactamente qué variable almacena cada dato:</p>\n<pre><code class=\"language-javascript\">// Buen código ✅\n\nconsole.log({ foo, bar, baz });\n</code></pre>\n<p>Ahora la consola se ve así:</p>\n<p><img src=\"/assets/javascript-tips/console-log/y85kqlkTl.jpeg\" alt=\"console-log-good.jpg\"></p>\n<h2>Analizando <code>console.table</code></h2>\n<p>Algo que tal vez notaste es que todos los objetos comparten propiedades, y lo ideal en estos casos es visualizar los datos como una tabla:</p>\n<pre><code class=\"language-javascript\">// Buen código ✅\n\nconsole.table([foo, bar, baz]);\n</code></pre>\n<p>La salida será la siguiente:</p>\n<p><img src=\"/assets/javascript-tips/console-log/uIQoxC58r.jpeg\" alt=\"console-log-good-table.jpg\"></p>\n<p>Esto es algo muy útil cuando tienes un array de objetos, o si tienes variables sueltas como en el ejemplo, solo tienes definir un array que contenga los objetos individuales.</p>\n<p>Realmente existen muchas posibilidades para el registro en consola, sin embargo, veamos un par de esas posibilidades.</p>\n<h2>Analizando <code>console.time</code></h2>\n<p>Podemos obtener el tiempo de ejecución de un fragmento de código de la siguiente manera:</p>\n<pre><code class=\"language-javascript\">console.time('looper')\n\nlet i = 0;\nwhile (i &#x3C; 1000000) { i ++ }\n\nconsole.timeEnd('looper')\n</code></pre>\n<p>El fragmento de código a contabilizar es:</p>\n<pre><code class=\"language-javascript\">let i = 0;\nwhile (i &#x3C; 1000000) { i ++ }\n</code></pre>\n<p>La cuenta inicia con la línea:</p>\n<pre><code class=\"language-javascript\">console.time('looper')\n</code></pre>\n<p>Y finaliza con la línea:</p>\n<pre><code class=\"language-javascript\">console.timeEnd('looper')\n</code></pre>\n<p>Momento en el que se imprime el tiempo de ejecución en la consola:</p>\n<p><img src=\"/assets/javascript-tips/console-log/r0pkRzUkk.jpeg\" alt=\"console-time.jpg\"></p>\n<p>Para cada ejecución el tiempo registrado será diferente.</p>\n<h2>Analizando <code>console.trace</code></h2>\n<p>Pero qué sucede si necesitamos conocer cuál es el archivo desde donde se lanzó la función de registro. En estos casos podemos utilizar <code>console.trace</code>, de esta manera:</p>\n<pre><code class=\"language-javascript\">const deleteMe = () => console.trace('hola, es aquí')\n\ndeleteMe()\ndeleteMe()\n</code></pre>\n<p>Al ejecutar esto, en la consola veremos:</p>\n<p><img src=\"/assets/javascript-tips/console-log/eCPHz6Afx.jpeg\" alt=\"console-trace.jpg\"></p>\n<h2>Conclusión</h2>\n<p>La función <code>console.log</code> es muy útil pero muchas veces no aprovechamos todo su potencial y lamentablemente mucha gente directamente desconoce la existencia de otras funciones interesantes como <code>console.table</code>, <code>console.time</code> y <code>console.trace</code> con las que podemos ahorrar bastante tiempo de trabajo.</p>\n<p><strong>Fuentes:</strong></p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=Mus_vwhTCq0\">JavaScript Pro Tips - Code This, NOT That</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=ZI3q-_vjSZE\">Do THIS to Write Clean Code! | JavaScript Pro Tips (2021)</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=g2nMKzhkvxw\">Junior Vs Senior Code - How To Write Better Code</a></li>\n</ul>\n","ogImage":{"url":"/assets/javascript-tips/console-log.png"},"coverImage":"/assets/javascript-tips/console-log.png"}},"__N_SSG":true}